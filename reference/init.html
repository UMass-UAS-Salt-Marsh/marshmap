<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Initialize marshmap with user parameters — init • saltmarsh</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Initialize marshmap with user parameters — init"><meta name="description" content="Reads user-set parameters for package marshmap."><meta property="og:description" content="Reads user-set parameters for package marshmap."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">saltmarsh</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UMass-UAS-Salt-Marsh/marshmap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Initialize marshmap with user parameters</h1>
      <small class="dont-index">Source: <a href="https://github.com/UMass-UAS-Salt-Marsh/marshmap/blob/main/R/init.R" class="external-link"><code>R/init.R</code></a></small>
      <div class="d-none name"><code>init.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads user-set parameters for package marshmap.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">init</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>User parameters are set in two distinct locations:</p><ol><li><p>The initialization file, in the user's home directory, <code>~/marshmap.yml</code>.
This file should contain five lines:</p>
<p><code>basedir: c:/Work/etc/marshmap</code> <br><code>parsdir: pars</code> <br><code>parsfile: pars.yml</code> <br><code>scratchdir: c:/Work/etc/marshmap/data/scratch</code> <br></p>
<p>a. <code>basedir</code> points to the base directory</p>
<p>b. <code>parsdir</code> is the parameters subdirectory. It should be <code>pars</code> unless you have
a good reason to change it.</p>
<p>c. <code>parsfile</code> points to the main parameter file. It should be <code>pars.yml</code>.</p>
<p>d. <code>scratchdir</code> points to the scratch drive, where the <code>cache</code> directory will be located.
See notes on caching, below.</p></li>
<li><p>Everything else, in <code>&lt;basedir&gt;/&lt;parsdir&gt;</code>. The primary parameter file is
<code>pars.yml</code>, which points to other parameters (such as <code>sites.txt</code>).</p></li>
</ol><p>These parameters include:</p><ul><li><p><code>sites</code> the name of the sites file, <code>sites.txt</code> by default</p></li>
<li><p><code>classes</code> the name of the classes file, <code>classes.txt</code> by default</p></li>
<li><p><code>dirs</code> alternative names for various subdirectories. The directories will keep
the standard structure–you can change names here but not paths.</p></li>
<li><p><code>gather</code> a block of parameters for <code><a href="gather.html">gather()</a></code></p></li>
</ul><p>This approach splits the user- and platform-dependent parameters (<code>marshmap.yml</code>)
from parameters that are likely to be shared among users and across platforms (those in
<code>parsdir</code>). It allows multiple users on a shared machine (such as Unity cluster)
to set user-specific parameters if need be, while sharing other parameters.</p>
<p>This function reads the user parameters and adds them to the environment <code>the</code> with
all parameters. It is automatically run upon loading the package, and may be
rerun by the user if parameter files are changed.</p>
<p>You can change standard directory names (<code>data</code>, <code>models</code>, <code>gis</code>, <code>flights</code>, <code>field</code>,
<code>shapefiles</code>, <code>samples</code>, <code>predicted</code>, and <code>cache</code>) by setting each within a <code>dirs:</code> block in <code>pars.yml</code>.
Directories default to standard names, which is usually what you want.</p>
<p>To change parameters on the fly, you can set the components of <code>the</code>. If you change any elements of
<code>dirs</code>, you'll have to run <code><a href="set_dirs.html">set_dirs()</a></code> afterwards. Note
that parameters changed on the fly will only persist until the next call to <code>init()</code>,
which can be called on demand but also happens automatically when the package is loaded.</p>
<p>For example:</p>
<p><code>the$sites &lt;- 'newsites'</code>  <br><code>the$dirs$cache &lt;- 'newcache'</code> <br><code>the$dirs$samples &lt;- 'samples99'</code> <br><code><a href="set_dirs.html">set_dirs()</a></code></p>
<p><strong>Notes on caching.</strong> A cache directory is required when <code>sourcedrive = google</code> or <code>sftp</code>. The cache
directory should be larger than the total amount of data processed–this code isn't doing any quota
management. This is not an issue when using a
<a href="https://docs.unity.rc.umass.edu/documentation/managing-files/hpc-workspace/" class="external-link">scratch drive on Unity</a>,
as the limit is 50 TB. There's no great need to carry over cached data over long periods, as downloading
from Google or SFTP to Unity is very fast. Be polite and release the scratch workspace when you're done.
See comments in <code><a href="get_file.html">get_file()</a></code> for more notes on caching.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley Compton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

